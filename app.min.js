let pageTags={home:["home"],text:["text","about","career","links","github","linkedin"],terminal:["terminal","about","career","links","github","linkedin"],game:["game","keyboard","dpad"]},welcomePhrases=["Hi, I am","Szia, én vagyok","Hei, jeg er","Ciao, sono","Hola, soy","Bonjour, je suis","Hallo, ich bin","こんにちは、私は","你好，我是","हाय मैं हूँ"],age=(new Date).getFullYear()-1990,careerAge=(new Date).getFullYear()-2016,emojiTexts={old:["old","&#x1F9D3;"],hungary:["Hungary","&#x1F1ED;&#x1F1FA;"],it:["IT","&#x1F4BB;"]},links=[["https://github.com/GergiH/","GergiH","<i class='uil uil-github'></i>"],["https://www.linkedin.com/in/gergi-hrv/","Gergely Horvath","<i class='uil uil-linkedin'></i>"],["https://github.com/IFRCGo/go-api/","IFRC Go - API <small>[Django] (contributor)</small>","<i class='uil uil-github-alt'></i>"],["https://github.com/IFRCGo/go-frontend/","IFRC Go - Frontend <small>[React] (contributor)</small>","<i class='uil uil-github-alt'></i>"],["https://gergih.github.io/portfolio-terminal/","Old terminal personal page","<i class='uil uil-window'></i>"]],skills=["C#",".NET (v4.5 -> current)","JavaScript","Python","MSSQL","Blazor","PostgreSQL","React","Django","TypeScript","Angular","Vue","Visual Studio","VSCode","Vim","GitHub","TFS","Azure DevOps"],particlesConfig={particles:{number:{value:200,density:{enable:!0,value_area:800}},color:{value:"#fff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5}},opacity:{value:.5,random:!0,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:3,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!1,distance:500,color:"#ffffff",opacity:.4,width:2},move:{enable:!0,speed:1,direction:"bottom",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:0}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"repulse"},onclick:{enable:!1,mode:"repulse"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:.5}},bubble:{distance:400,size:3,duration:.3,opacity:1,speed:3},repulse:{distance:100,duration:.2},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0},typewriterElement=document.getElementsByClassName("welcome-typewriter")[0],typingSpeed=200,pauseDuration=2e3,deletingSpeed=70;function app(){return{currentPage:"home",searchTerm:"",darkMode:!1,isEmoji:!0,terminalLines:[],commandInput:"",canMove:!0,playerPosition:{row:1,col:2},gameMap:[[0,0,0,0,0,0,0,0],[0,0,1,1,0,0,0,0],[0,0,1,1,0,0,0,0],[0,1,1,1,0,0,0,0],[0,1,1,1,0,0,0,0],[0,1,0,1,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,1,1,1,1,0],[0,0,0,1,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,1,1,1,1,0,0],[0,0,1,0,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,0,0,0,0,0,0]],descriptions:{about(e,i){return`A <strong>${age} years</strong> ${e} software developer from ${i}. Basically interested in any topic, just to name a few: programming (obviously), cooking, fitness, astrology, languages, psychology.<br/><br/>When not coding, he's either watching random animal videos, gaming, having a drink with friends, or watching sports.`},career(e,i){var t=i?"<span class='skillcard-container'>"+skills.map(e=>`<span class='skillcard'>${e}</span>`).join("")+"</span>":skills.join(", ");return i?`<div class='career-text'><div><strong>${careerAge} years</strong> of ${e} experience, mainly developing web applications, web services, console applications, REST APIs - using the following languages, frameworks, tools (stronger to weaker + tools)</div><div>${t}</div></div>`:`<strong>${careerAge} years</strong> of ${e} experience, mainly developing web applications, web services, console applications, REST APIs - using the following languages, frameworks, tools (stronger to weaker + tools)<br/><strong>${t}</strong>`}},setPage(e){this.currentPage=e,this.isEmoji="terminal"!==e&&"game"!==e},get aboutDescription(){var e=this.isEmoji?emojiTexts.old[1]:emojiTexts.old[0],i=this.isEmoji?emojiTexts.hungary[1]:emojiTexts.hungary[0];return this.descriptions.about(e,i)},get careerDescription(){var e=this.isEmoji?emojiTexts.it[1]:emojiTexts.it[0],i="terminal"!==this.currentPage&&"game"!==this.currentPage;return this.descriptions.career(e,i)},get linksForTerminal(){let i="<ul>";return links.forEach(e=>{i+=`<li><a href="${e[0]}" target="_blank">${e[1]}</a></li>`}),i+="</ul>"},gameMessages(e){switch(e){case"5,1":return this.aboutDescription;case"7,6":return this.careerDescription;case"13,5":return this.linksForTerminal}},handleCommand(){var e=this.commandInput.trim();"clear"===e?this.terminalLines=[]:e&&(this.terminalLines.push("> "+e),this.processCommand(e)),this.commandInput=""},processCommand(e){switch(e){case"help":this.terminalLines.push("Available commands: <strong>about, career, links, help, clear</strong>");break;case"about":this.terminalLines.push(this.aboutDescription);break;case"career":this.terminalLines.push(this.careerDescription);break;case"links":this.terminalLines.push(this.linksForTerminal);break;default:this.terminalLines.push("Unknown command: "+e)}},isVisible(e){return(pageTags[e]||[]).some(e=>e.includes(this.searchTerm.toLowerCase()))},clearSearch(){this.searchTerm=""},toggleDarkMode(){this.darkMode=!this.darkMode,particlesConfig.particles.color.value=this.darkMode?"#fff":"#03332a",particlesJS("particles-js",particlesConfig)},initializeGameMap(){this.renderMap()},renderMap(){let r=document.getElementById("map");r.innerHTML="",this.gameMap.forEach((e,s)=>{e.forEach((e,i)=>{var t,a=document.createElement("div");a.classList.add("map-cell"),s===this.playerPosition.row&&i===this.playerPosition.col?(t=this.gameMessages(s+","+i),a.innerHTML=`<div class="player-message">${t?`<span class="message">${t}</span>`:""}<i class="uil uil-car-sideview player"></i></div>`):0===e?a.innerHTML='<i class="uil uil-trees tree"></i>':5===s&&1===i?a.innerHTML='<i class="uil uil-user-square player-station"></i>':7===s&&6===i?a.innerHTML='<i class="uil uil-bag player-station"></i>':13===s&&5===i&&(a.innerHTML='<i class="uil uil-link player-station"></i>'),r.appendChild(a)})})},isWalkable(e,i){return this.gameMap[e]&&1===this.gameMap[e][i]},movePlayer(t){if(!["INPUT","TEXTAREA","SELECT"].includes(document.activeElement.tagName)&&(this.canMove||"ArrowUp"==!t.key||"ArrowDown"==!t.key||"ArrowLeft"==!t.key||"ArrowRight"==!t.key)){this.canMove=!1;let e=this.playerPosition.row,i=this.playerPosition.col;switch(t.key){case"ArrowUp":--e;break;case"ArrowDown":e+=1;break;case"ArrowLeft":--i;break;case"ArrowRight":i+=1;break;default:return void setTimeout(()=>{this.canMove=!0},100)}t.preventDefault(),this.isWalkable(e,i)&&(this.playerPosition={row:e,col:i},this.renderMap()),setTimeout(()=>{this.canMove=!0},100)}},movePlayerDpad(e){this.canMove=!1;let i=this.playerPosition.row,t=this.playerPosition.col;switch(e){case"up":--i;break;case"down":i+=1;break;case"left":--t;break;case"right":t+=1;break;default:return}this.isWalkable(i,t)&&(this.playerPosition={row:i,col:t},this.renderMap()),setTimeout(()=>{this.canMove=!0},100)},async typeText(i){for(let e=0;e<=i.length;e++)typewriterElement.textContent=i.slice(0,e),await new Promise(e=>setTimeout(e,typingSpeed))},async deleteText(i){for(let e=i.length;0<=e;e--)typewriterElement.textContent=i.slice(0,e),await new Promise(e=>setTimeout(e,deletingSpeed))},async typewriter(){let e=0;for(;;){var i=welcomePhrases[e];typewriterElement.classList.remove("blinking"),await this.typeText(i),typewriterElement.classList.add("blinking"),await new Promise(e=>setTimeout(e,pauseDuration)),typewriterElement.classList.remove("blinking"),await this.deleteText(i),e=(e+1)%welcomePhrases.length}},init(){window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(this.darkMode=!0),document.addEventListener("keydown",e=>{"Escape"===e.key&&this.clearSearch()}),particlesConfig.particles.color.value=this.darkMode?"#fff":"#888",particlesJS("particles-js",particlesConfig),this.typewriter()}}}